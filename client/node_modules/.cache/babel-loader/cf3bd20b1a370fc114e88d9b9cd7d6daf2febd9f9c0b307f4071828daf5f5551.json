{"ast":null,"code":"// import { collection, onSnapshot } from \"firebase/firestore\";\n// import { useEffect, useState } from \"react\";\n// import { db } from \"../firebase\";\n\n// // this will fetch plan revenue data and merge it with plan details --> to show which plan is generating which revenue\n// const usePlan = () => {\n//   const [planData, setPlanData] = useState([]);\n\n//   useEffect(() => {\n//     const unsubscribe = onSnapshot(collection(db, \"planrevenue\"), async (snapshot) => {\n//       const dataWithPlanDetails = await Promise.all(\n//         snapshot.docs.map(async (docSnap) => {\n//           const revenue = docSnap.data();\n//           const planId = docSnap.id;\n\n//           // Reference to the matching plan document\n//           const planRef = doc(db, \"plans\", planId);\n//           const planSnap = await getDoc(planRef);\n\n//           return {\n//             planId,\n//             ...revenue,\n//             ...(planSnap.exists() ? planSnap.data() : {}) // merges name, desc, etc.\n//           };\n//         })\n//       );\n\n//       setPlanData(dataWithPlanDetails);\n//     });\n\n//     return () => unsubscribe();\n//   }, []);\n\n//   return planData;\n// };\n\n// export default usePlan;","map":{"version":3,"names":[],"sources":["C:/FYP/Application/SignEase/signease-admin/client/src/hooks/usePlan.js"],"sourcesContent":["// import { collection, onSnapshot } from \"firebase/firestore\";\r\n// import { useEffect, useState } from \"react\";\r\n// import { db } from \"../firebase\";\r\n\r\n// // this will fetch plan revenue data and merge it with plan details --> to show which plan is generating which revenue\r\n// const usePlan = () => {\r\n//   const [planData, setPlanData] = useState([]);\r\n\r\n//   useEffect(() => {\r\n//     const unsubscribe = onSnapshot(collection(db, \"planrevenue\"), async (snapshot) => {\r\n//       const dataWithPlanDetails = await Promise.all(\r\n//         snapshot.docs.map(async (docSnap) => {\r\n//           const revenue = docSnap.data();\r\n//           const planId = docSnap.id;\r\n\r\n//           // Reference to the matching plan document\r\n//           const planRef = doc(db, \"plans\", planId);\r\n//           const planSnap = await getDoc(planRef);\r\n\r\n//           return {\r\n//             planId,\r\n//             ...revenue,\r\n//             ...(planSnap.exists() ? planSnap.data() : {}) // merges name, desc, etc.\r\n//           };\r\n//         })\r\n//       );\r\n\r\n//       setPlanData(dataWithPlanDetails);\r\n//     });\r\n\r\n//     return () => unsubscribe();\r\n//   }, []);\r\n\r\n//   return planData;\r\n// };\r\n\r\n// export default usePlan;\r\n\r\n\r\n"],"mappings":"AAAA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}